
class AppController{
	public static $mostraLog = 0;
	
	public function __construct(){
		require_once 'controller/usuarioController.php';
		require_once 'controller/AssinaturaController.php';
		require_once 'controller/emailController.php';
		require_once 'model/usuarioModel.php';
		require_once 'model/assinaturaModel.php';
		require_once 'model/emailModel.php';
		require_once 'dao/usuarioDao.php';
		require_once 'dao/assinaturaDao.php';
		require_once 'app/mensagem.php';
		require_once 'app/conexao.php';
		require_once 'app/view.php';
		require_once 'app/log.php';
		require_once 'util/class.phpmailer.php';
		require_once 'util/class.smtp.php';

		$this->init();
	}
	
	private function init(){
		log::setLog('iniciando aplicação');
		define('CLIENTE', date('d/m/Y h:m:s')."->".$_SERVER['REMOTE_ADDR'] );
		error_reporting(0);
			
		log::setLog('LIMPANDO MENSAGEMS');
		$view = new View();
		$view->limparMensagem();

		if(strtotime(date('Ymd')) >= strtotime("20240701") || KEYAPP  != 'c73f2e423f2da8233b9b9df4861bebd2'){
			echo "Licença expirada, entre em contato com o fornecedor do software<br/>leeungalves@gmail.com";
			die();
		}

		$this->processaRequisição();
				
	}
	
	private function processaRequisição(){
		log::setLog('Verificando se existe requisição');
		
		if (isset($_GET['pagina'])){
			$pagina = $_GET['pagina'];
			log::setLog('Redirecionando para a pagina '.$pagina);
			$view = new View();
			$view->carregaView($pagina);
		}else{
		
			if(isset($_GET['entidade']) && isset($_GET['acao'])){
				log::setLog('processando requisição');
				$entidade = $_GET['entidade'].'Controller';
				$acao = $_GET['acao'];
				$obj = null;
					
				eval("\$obj = new \$entidade();");
				eval("\$retorno = \$obj->\$acao();");
			}else{
				log::setLog('Não existe requisição, carregando home');
				$this->home();
			}
		}
	}
	
	public function home(){
		$view = new View();
		$view->carregaView("assinatura");
	}
	
	public static function mostraLog(){
		if (self::$mostraLog){
			if (isset($_SESSION['LOG'])){
				return  $_SESSION['LOG'];
			}
		}
		return '';

	}
	
}